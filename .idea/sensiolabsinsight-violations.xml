<?xml version="1.0" encoding="UTF-8"?>
<analysis>
  <link href="https://insight.sensiolabs.com/api/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7" rel="self" type="application/vnd.com.sensiolabs.insight+xml"/>
  <link href="https://insight.sensiolabs.com/api/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7/status" rel="status" type="application/vnd.com.sensiolabs.insight+xml"/>
  <link href="https://insight.sensiolabs.com/api/projects/39464be8-2963-48b8-ad29-a1dc584b68f8" rel="project" type="application/vnd.com.sensiolabs.insight+xml"/>
  <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7" rel="self" type="text/html"/>
  <status><![CDATA[]]></status>
  <violations>
    <violation severity="minor" category="codestyle" ignored="false">
      <line>5</line>
      <resource><![CDATA[.gitignore]]></resource>
      <title>User specific files should not appear in .gitignore</title>
      <message><![CDATA[.idea/ is user-specific and should not appear in a project .gitignore. Consider adding it to the user global .gitignore instead.]]></message>
      <context start-line="1" end-line="10"><![CDATA[/vendor
/node_modules
Homestead.yaml
Homestead.json
.idea/
resources/build/
public/build/
public/css/
public/js/
public/img/]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987051" rel="self" type="text/html"/>
    </violation>
    <violation severity="info" category="codestyle" ignored="false">
      <line>2</line>
      <resource><![CDATA[storage/app/.gitignore]]></resource>
      <title>Text files should end with a newline character</title>
      <message><![CDATA[This file ends with no newline character. It won't render properly on a terminal, and it's considered a bad practice. Add a simple line feed as the last character to fix it.]]></message>
      <context start-line="1" end-line="2"><![CDATA[*
!.gitignore]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987057" rel="self" type="text/html"/>
    </violation>
    <violation severity="info" category="codestyle" ignored="false">
      <line>2</line>
      <resource><![CDATA[storage/framework/cache/.gitignore]]></resource>
      <title>Text files should end with a newline character</title>
      <message><![CDATA[This file ends with no newline character. It won't render properly on a terminal, and it's considered a bad practice. Add a simple line feed as the last character to fix it.]]></message>
      <context start-line="1" end-line="2"><![CDATA[*
!.gitignore]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987055" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="performance" ignored="false">
      <line>30</line>
      <resource><![CDATA[database/seeds/TagsTableSeeder.php]]></resource>
      <title>Usage of a function in loops should be avoided</title>
      <message><![CDATA[This loop uses a function. To avoid the overhead of executing the function n times, you should precalculate it before the loop.]]></message>
      <context start-line="25" end-line="35"><![CDATA[     * Create a tag and attach to some products.
     */
    private function seedTag()
    {
        $tag = Tag::create(['name' => ucfirst($this->faker()->unique()->word)]);
        for ($i = 0; $i < rand(1, 8); $i++) {
            $product = $this->products()->random();
            if ($tag->products->contains('id', $product->id)) {
                continue;
            }
            $tag->products()->attach($product->id);]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=new#412987054" rel="self" type="text/html"/>
    </violation>
    <violation severity="info" category="codestyle" ignored="false">
      <line>5</line>
      <resource><![CDATA[app/Image/Imagick/ImageTransformer.php]]></resource>
      <title>Interfaces names should end with "Interface"</title>
      <message><![CDATA[Interface ImageTransformer should be named ImageTransformerInterface for better clarity.]]></message>
      <context start-line="1" end-line="10"><![CDATA[<?php

namespace ChingShop\Image\Imagick;

interface ImageTransformer
{
    /**
     * @param ImagickCollection $images
     */
    public function applyTo(ImagickCollection $images);]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987061" rel="self" type="text/html"/>
    </violation>
    <violation severity="info" category="codestyle" ignored="false">
      <line>12</line>
      <resource><![CDATA[app/Image/Imagick/ImagickContract.php]]></resource>
      <title>Interfaces names should end with "Interface"</title>
      <message><![CDATA[Interface ImagickContract should be named ImagickContractInterface for better clarity.]]></message>
      <context start-line="7" end-line="17"><![CDATA[
/**
 * Interface ImagickContract
 * Allows mocking Imagick in tests.
 */
interface ImagickContract
{
    /**
     * @param int  $cols
     * @param int  $rows
     * @param null $bestfit]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987056" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="bugrisk" ignored="false">
      <line>26</line>
      <resource><![CDATA[app/Catalogue/Product/ProductRepository.php]]></resource>
      <title>Object parameters should be type hinted</title>
      <message><![CDATA[The parameter limit, which is an object, should be typehinted.]]></message>
      <context start-line="21" end-line="31"><![CDATA[    /**
     * @param int $limit
     *
     * @return Collection
     */
    public function loadLatest($limit = 100): Collection
    {
        return $this->productResource
            ->orderBy('updated_at', 'desc')
            ->has('images')
            ->with(['images', 'tags'])]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=new#412987060" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="bugrisk" ignored="false">
      <line>35</line>
      <resource><![CDATA[app/Http/Middleware/Authenticate.php]]></resource>
      <title>Object parameters should be type hinted</title>
      <message><![CDATA[The parameter request, which is an object, should be typehinted.]]></message>
      <context start-line="30" end-line="40"><![CDATA[     * @param \Illuminate\Http\Request $request
     * @param \Closure                 $next
     *
     * @return mixed
     */
    public function handle($request, Closure $next)
    {
        if ($this->auth->guest()) {
            if ($request->ajax()) {
                return response('Unauthorized.', 401);
            } else {]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987063" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>19</line>
      <resource><![CDATA[app/Http/Controllers/Customer/CategoriesController.php]]></resource>
      <title>Unused method, property, variable or parameter</title>
      <message><![CDATA[This responseFactory attribute is declared but never used. You should remove it.]]></message>
      <context start-line="14" end-line="24"><![CDATA[
    /** @var ViewFactory */
    private $viewFactory;

    /** @var ResponseFactory */
    private $responseFactory;

    /**
     * ProductController constructor.
     *
     * @param ProductRepository $productRepository]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987058" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>20</line>
      <resource><![CDATA[app/Http/Controllers/Customer/RootController.php]]></resource>
      <title>Unused method, property, variable or parameter</title>
      <message><![CDATA[This responseFactory attribute is declared but never used. You should remove it.]]></message>
      <context start-line="15" end-line="25"><![CDATA[
    /** @var ViewFactory */
    private $viewFactory;

    /** @var ResponseFactory */
    private $responseFactory;

    /**
     * ProductController constructor.
     *
     * @param ProductRepository $productRepository]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987059" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>18</line>
      <resource><![CDATA[app/Http/Controllers/Customer/StaticController.php]]></resource>
      <title>Unused method, property, variable or parameter</title>
      <message><![CDATA[This responseFactory attribute is declared but never used. You should remove it.]]></message>
      <context start-line="13" end-line="23"><![CDATA[{
    /** @var ViewFactory */
    private $viewFactory;

    /** @var ResponseFactory */
    private $responseFactory;

    /**
     * ProductController constructor.
     *
     * @param ViewFactory     $viewFactory]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987052" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>17</line>
      <resource><![CDATA[app/Http/Controllers/Staff/PriceController.php]]></resource>
      <title>Unused method, property, variable or parameter</title>
      <message><![CDATA[This viewFactory attribute is declared but never used. You should remove it.]]></message>
      <context start-line="12" end-line="22"><![CDATA[{
    /** @var ProductRepository */
    private $productRepository;

    /** @var ViewFactory */
    private $viewFactory;

    /** @var ResponseFactory */
    private $responseFactory;

    /**]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987065" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>19</line>
      <resource><![CDATA[app/Image/ImageRepository.php]]></resource>
      <title>Unused method, property, variable or parameter</title>
      <message><![CDATA[This config attribute is declared but never used. You should remove it.]]></message>
      <context start-line="14" end-line="24"><![CDATA[{
    /** @var Image|Builder */
    private $imageResource;

    /** @var Config */
    private $config;

    /** @var Dispatcher */
    private $dispatcher;

    /**]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987064" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>5</line>
      <resource><![CDATA[app/User/Role.php]]></resource>
      <title>Unused use statement should be avoided</title>
      <message><![CDATA[The class Illuminate\Database\Eloquent\Collection is declared but never used. You should remove the use statement.]]></message>
      <context start-line="1" end-line="10"><![CDATA[<?php

namespace ChingShop\User;

use Illuminate\Database\Eloquent\Collection;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsToMany;
use Illuminate\Database\Query\Builder;

/**]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987062" rel="self" type="text/html"/>
    </violation>
    <violation severity="minor" category="deadcode" ignored="false">
      <line>8</line>
      <resource><![CDATA[app/User/Role.php]]></resource>
      <title>Unused use statement should be avoided</title>
      <message><![CDATA[The class Illuminate\Database\Query\Builder is declared but never used. You should remove the use statement.]]></message>
      <context start-line="3" end-line="13"><![CDATA[namespace ChingShop\User;

use Illuminate\Database\Eloquent\Collection;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsToMany;
use Illuminate\Database\Query\Builder;

/**
 * ChingShop\User\Role.
 *
 * @property int $id]]></context>
      <link href="https://insight.sensiolabs.com/projects/39464be8-2963-48b8-ad29-a1dc584b68f8/analyses/7?status=existing#412987053" rel="self" type="text/html"/>
    </violation>
  </violations>
  <grades>
    <entry><![CDATA[none]]></entry>
    <entry><![CDATA[bronze]]></entry>
    <entry><![CDATA[silver]]></entry>
    <entry><![CDATA[gold]]></entry>
    <entry><![CDATA[platinum]]></entry>
  </grades>
  <failed>false</failed>
  <grade><![CDATA[silver]]></grade>
  <next-grade><![CDATA[gold]]></next-grade>
  <begin-at><![CDATA[2016-06-01T10:00:06+0200]]></begin-at>
  <end-at><![CDATA[2016-06-01T10:11:04+0200]]></end-at>
  <duration>29</duration>
  <number>7</number>
  <altered>false</altered>
  <remediation-cost>6.75</remediation-cost>
  <nb-violations>15</nb-violations>
  <reference><![CDATA[775e81c5937aae5ff36fbcb8346eb2e19882e8d6]]></reference>
  <configuration>
    <ignored-branches>
      <branch><![CDATA[gh-pages]]></branch>
    </ignored-branches>
    <pre-composer-script/>
    <post-composer-script/>
    <working-directory/>
    <php-version/>
    <php-ini/>
    <global-excluded-dirs>
      <dir><![CDATA[vendor]]></dir>
      <dir><![CDATA[vendors]]></dir>
      <dir><![CDATA[test]]></dir>
      <dir><![CDATA[tests]]></dir>
      <dir><![CDATA[Tests]]></dir>
      <dir><![CDATA[spec]]></dir>
      <dir><![CDATA[features]]></dir>
      <dir><![CDATA[Fixtures]]></dir>
      <dir><![CDATA[DataFixtures]]></dir>
      <dir><![CDATA[var]]></dir>
      <dir><![CDATA[ansible]]></dir>
    </global-excluded-dirs>
    <excluded-patterns>
      <pattern><![CDATA[app/check.php]]></pattern>
      <pattern><![CDATA[app/SymfonyRequirements.php]]></pattern>
      <pattern><![CDATA[web/config.php]]></pattern>
      <pattern><![CDATA[web/app_*.php]]></pattern>
    </excluded-patterns>
    <patterns>
      <file>
        <pattern><![CDATA[*.php]]></pattern>
        <pattern><![CDATA[*.twig]]></pattern>
        <pattern><![CDATA[*.xml]]></pattern>
        <pattern><![CDATA[*.yml]]></pattern>
        <pattern><![CDATA[*.yaml]]></pattern>
        <pattern><![CDATA[*.ini]]></pattern>
        <pattern><![CDATA[*.dist]]></pattern>
        <pattern><![CDATA[*.sql]]></pattern>
        <pattern><![CDATA[composer.*]]></pattern>
        <pattern><![CDATA[.gitignore]]></pattern>
        <pattern><![CDATA[license]]></pattern>
        <pattern><![CDATA[LICENSE]]></pattern>
        <pattern><![CDATA[readme]]></pattern>
        <pattern><![CDATA[README]]></pattern>
        <pattern><![CDATA[makefile]]></pattern>
        <pattern><![CDATA[Makefile]]></pattern>
        <pattern><![CDATA[.htaccess]]></pattern>
      </file>
      <php>
        <pattern><![CDATA[*.php]]></pattern>
      </php>
      <twig>
        <pattern><![CDATA[*.twig]]></pattern>
      </twig>
    </patterns>
    <rules/>
    <parameters>
      <parameter name="project_type">8</parameter>
    </parameters>
    <env/>
  </configuration>
  <previous-analyses-references>
    <analysis-reference number="11">7b031c8502c4e492d3cfa61c12589682fe30fb30</analysis-reference>
    <analysis-reference number="10">0bb40114f6a9b4fc81e1bf5acfe32d9347140520</analysis-reference>
    <analysis-reference number="9">0bb40114f6a9b4fc81e1bf5acfe32d9347140520</analysis-reference>
    <analysis-reference number="8">0db64328c363d0bd089204fd5211ffd217099492</analysis-reference>
    <analysis-reference number="7">775e81c5937aae5ff36fbcb8346eb2e19882e8d6</analysis-reference>
    <analysis-reference number="6">c36dae087bf4cd10557879b92852de1e138c6f3f</analysis-reference>
    <analysis-reference number="5">57655df1f983569154028cc6bfc57660a6367865</analysis-reference>
    <analysis-reference number="4">fceb18f5c5b0eb1bcd28fa4715d28388efd8715e</analysis-reference>
    <analysis-reference number="3">3e78221f029e73225bbb7be25b5e6e37599aea9e</analysis-reference>
    <analysis-reference number="2">c52ba0ac766c5842fc131acac11ea04bcdf343e3</analysis-reference>
    <analysis-reference number="1">2131554d67d7c27769d738725eafe1feb848ad67</analysis-reference>
  </previous-analyses-references>
  <nb-violations-new>2</nb-violations-new>
  <nb-violations-existing>13</nb-violations-existing>
  <nb-violations-fixed>0</nb-violations-fixed>
  <nb-violations-ignored>0</nb-violations-ignored>
</analysis>
